{"ast":null,"code":"import _slicedToArray from \"/Users/aaronchu/Development/stock-portfolio-app/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/aaronchu/Development/stock-portfolio-app/frontend/src/App.js\";\nimport React, { useState } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport SignIn from './containers/SignIn';\nimport Register from './containers/Register';\n\nconst App = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        userData = _useState2[0],\n        setUserData = _useState2[1];\n\n  const handleSubmit = (userData, history, endpoint, alertMessage) => {\n    fetch(\"/\".concat(endpoint), {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    }).then(resp => resp.json()).then(parsedResponse => {\n      if (parsedResponse.token) {\n        localStorage.setItem('token', parsedResponse.token);\n        setUserData({\n          user: parsedResponse.user\n        });\n        history.push('/portfolio');\n      } else {\n        alert(alertMessage);\n      }\n    });\n  };\n\n  return React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, localStorage.token ? React.createElement(Redirect, {\n    to: \"/portfolio\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }) : React.createElement(Route, {\n    path: \"/register\",\n    render: routerProps => React.createElement(Register, Object.assign({}, routerProps, {\n      handleSubmit: handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }), localStorage.token ? React.createElement(Redirect, {\n    to: \"/portfolio\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }) : React.createElement(Route, {\n    path: \"/\",\n    render: routerProps => React.createElement(SignIn, Object.assign({}, routerProps, {\n      handleSubmit: handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/aaronchu/Development/stock-portfolio-app/frontend/src/App.js"],"names":["React","useState","Switch","Route","Redirect","SignIn","Register","App","userData","setUserData","handleSubmit","history","endpoint","alertMessage","fetch","method","headers","body","JSON","stringify","then","resp","json","parsedResponse","token","localStorage","setItem","user","push","alert","routerProps"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,QAAxB,QAAwC,kBAAxC;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,QAAP,MAAqB,uBAArB;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAAA,oBAEgBN,QAAQ,CAAC,EAAD,CAFxB;AAAA;AAAA,QAETO,QAFS;AAAA,QAECC,WAFD;;AAGhB,QAAMC,YAAY,GAAG,CAACF,QAAD,EAAWG,OAAX,EAAoBC,QAApB,EAA8BC,YAA9B,KAA+C;AAClEC,IAAAA,KAAK,YAAKF,QAAL,GAAiB;AACpBG,MAAAA,MAAM,EAAE,MADY;AAEpBC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,kBAAU;AAFH,OAFW;AAMpBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeX,QAAf;AANc,KAAjB,CAAL,CAQGY,IARH,CAQQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EARhB,EASGF,IATH,CASQG,cAAc,IAAI;AACtB,UAAIA,cAAc,CAACC,KAAnB,EAA0B;AACxBC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,cAAc,CAACC,KAA7C;AACAf,QAAAA,WAAW,CAAC;AAAEkB,UAAAA,IAAI,EAAEJ,cAAc,CAACI;AAAvB,SAAD,CAAX;AACAhB,QAAAA,OAAO,CAACiB,IAAR,CAAa,YAAb;AACD,OAJD,MAIO;AACLC,QAAAA,KAAK,CAAChB,YAAD,CAAL;AACD;AACF,KAjBH;AAkBD,GAnBD;;AAqBA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGY,YAAY,CAACD,KAAb,GAAqB,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAArB,GAAmD,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,WAAZ;AAAwB,IAAA,MAAM,EAAGM,WAAD,IAAiB,oBAAC,QAAD,oBAAcA,WAAd;AAA2B,MAAA,YAAY,EAAEpB,YAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADtD,EAEGe,YAAY,CAACD,KAAb,GAAqB,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAArB,GAAmD,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,GAAZ;AAAgB,IAAA,MAAM,EAAGM,WAAD,IAAiB,oBAAC,MAAD,oBAAYA,WAAZ;AAAyB,MAAA,YAAY,EAAEpB,YAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFtD,CADF;AAOD,CA/BD;;AAiCA,eAAeH,GAAf","sourcesContent":["import React, { useState } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport SignIn from './containers/SignIn'\nimport Register from './containers/Register'\n\nconst App = () => {\n\n  const [userData, setUserData] = useState([])\n  const handleSubmit = (userData, history, endpoint, alertMessage) => {\n    fetch(`/${endpoint}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    })\n      .then(resp => resp.json())\n      .then(parsedResponse => {\n        if (parsedResponse.token) {\n          localStorage.setItem('token', parsedResponse.token)\n          setUserData({ user: parsedResponse.user })\n          history.push('/portfolio')\n        } else {\n          alert(alertMessage)\n        }\n      })\n  }\n\n  return (\n    <Switch>\n      {localStorage.token ? <Redirect to='/portfolio'/> : <Route path='/register' render={(routerProps) => <Register {...routerProps} handleSubmit={handleSubmit}/>} />}\n      {localStorage.token ? <Redirect to='/portfolio'/> : <Route path='/' render={(routerProps) => <SignIn {...routerProps} handleSubmit={handleSubmit}/>} />}\n      \n    </Switch>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}